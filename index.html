<!-- ✅ Tabs 分頁 -->
<div class="tabs" id="adminTabs" style="display: none;">
  <button class="tab-btn active" onclick="switchTab('leave')" id="tabBtn-leave">📋 請假紀錄</button>
  <button class="tab-btn" onclick="switchTab('register')" id="tabBtn-register">➕ 建立帳號</button>
</div>

<!-- ✅ 請假紀錄區塊 -->
<div id="leaveTableBox" style="display: none;">
  <h3>📋 請假紀錄預覽（主管專用）</h3>
  <table id="leaveTable">
    <thead>
      <tr>
        <th>姓名</th><th>請假日期</th><th>假別</th><th>時段</th><th>原因</th><th>送出時間</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- ✅ 建立帳號區塊 -->
<div id="registerBox" style="display: none;">
  <h3>➕ 新增帳號</h3>
  <input type="text" id="newUser" placeholder="帳號">
  <input type="password" id="newPass" placeholder="密碼">
  <select id="newRole">
    <option value="staff">員工</option>
    <option value="manager">主管</option>
  </select>
  <button onclick="registerUser()">建立帳號</button>
  <p id="registerMsg" style="color:green;"></p>
</div>

<!-- ✅ 分頁切換 Script -->
<script>
  function switchTab(tabName) {
    const tabs = ["leave", "register"];
    tabs.forEach(t => {
      document.getElementById(t + "TableBox")?.style?.display = "none";
      document.getElementById(t + "Box")?.style?.display = "none";
      document.getElementById("tabBtn-" + t)?.classList.remove("active");
    });

    if (tabName === "leave") {
      document.getElementById("leaveTableBox").style.display = "block";
    } else if (tabName === "register") {
      document.getElementById("registerBox").style.display = "block";
    }
    document.getElementById("tabBtn-" + tabName).classList.add("active");
  }

  function login() {
    const user = document.getElementById("username").value.trim();
    const pass = document.getElementById("password").value.trim();
    const error = document.getElementById("loginError");

    if (user === "staff" && pass === "1234") {
      window.location.href = "leave.html";
    } else if (user === "admin" && pass === "1234") {
      document.querySelector(".login-box").style.display = "none";
      document.getElementById("adminTabs").style.display = "flex";
      switchTab("leave");
      error.textContent = "";
      loadLeaveData();
    } else {
      error.textContent = "❌ 帳號或密碼錯誤";
    }
  }
</script>

<!-- ✅ 分頁按鈕樣式 -->
<style>
  .tabs {
    margin-top: 20px;
    display: flex;
    gap: 10px;
  }
  .tab-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    background-color: #e0e0e0;
    cursor: pointer;
    font-weight: bold;
  }
  .tab-btn.active {
    background-color: #4A90E2;
    color: white;
  }
</style>
